!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).marmot=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}
/**
	 * [@uking/marmot]{@link https://github.com/An-uking/marmot.git}
	 *
	 * @namespace marmot
	 * @version 1.0.9
	 * @author uking [ptvile@live.com]
	 * @copyright uking 2024
	 * @license MIT
	 */const t=["Template","Slot"];const n=/<([A-Z]\w*)/g,s=(e,t,n)=>{let{strings:s,values:r}=e;return s?o(s,r,t,n):""};function o(e,t,s,c){let u=e.slice(0),f="";for(c=c||{};u.length;){let e=u[0].match(n);if(e)for(let n=0;n<e.length;n++){if(u[0]=u[0].replace(/\n\s+/g,""),!u[0])continue;let a=e[n].replace("<",""),p=u[0].indexOf(e[n]);f+=u[0].substring(0,p),u[0]=u[0].substring(p+e[n].length);let d=-1,{props:g,currentIndex:m,endTagPosition:h,isCloseTag:x}=i(u,t);if(x){d=h+2,"Slot"===a?g.name?(f+=c[g.name]||"",c[g.name]=""):(f+=c.default||"",c.default=""):f+=r(a,s,g,c)}else{u[m]=u[m].substring(h+1),u.splice(0,m),t.splice(0,m);let e=`</${a}>`,{index:i,offset:p,length:x}=l(e,u),b=u.slice(0,i+1),w=t.slice(0,i);b[i]=b[i].substring(0,p),m=i,d=p+e.length,c[g.slot||"default"]=o(b,w,s,c),"Template"!==a&&(f+=r(a,s,g,c)),n+=x}u[m]=u[m].substring(d),u.splice(0,m),t.splice(0,m)}else u[0]=u[0].replace(/\n\s+/g,""),f+=u[0],u.splice(0,1),t[0]&&(Array.isArray(t[0])?f+=t[0].join(""):f+=t[0],t.splice(0,1))}return f}function r(e,t,n,o){let r=t[e];if(!r)throw new Error(`Component ${e} not found.`);let l=new r;return s(l.render(n),l.components(),o)}function l(e,t){let s=t.length,o="</Template>"===e,r=[],l=-1,i=0,c=-1;for(let u=0;u<s;u++){let s=t[u];l=s.indexOf(e);let f=l>-1,a=s;if(f&&(c=u,a=s.substring(0,l)),o){let e=a.match(n);e&&(r.push(...e),i=r.length)}if(f)break}return{index:c,offset:l,length:i}}function i(e,t){const n=e.length;let s={},o=-1,r=-1,l=!1;for(let i=0;i<n;i++){let n=e[i].replace(/\n\s+/g,""),a=new RegExp("(/)?>","g").exec(n);if(a){l="/>"===a[0];let e=a.index;n=n.substring(0,e),s=f(n,s),s=c(n,s),o=i,r=a.index;break}{s=f(n,s),s=c(n,s);let e=u(n);e&&!s[e]&&(s[e]=t[i])}}return{props:s,currentIndex:o,endTagPosition:r,isCloseTag:l}}function c(e,t={}){const n=/([\w-]+)\s*=\s*(['"])(.*?)\2/g;let s;for(;s=n.exec(e);){const[,e,,n]=s;t[e]=n}return t}function u(e){let t=/([\w-]+)\s*=['"]$/g.exec(e);return t?t[1]:null}function f(e,t={}){const n=/(^|\s)(\w+)(?=\s|$)/g;let s;for(;s=n.exec(e);){const[,,e]=s;t[e]=!0}return t}return e({render:s,Component:class{constructor(e){this.props=e;let n=this.constructor.name;if(t.includes(n))throw new Error(`Component ${n} is a reserved keyword and cannot be used as a component name.`)}components(){}render(e={}){}},html:(e,...t)=>({strings:e,values:t})})}));
